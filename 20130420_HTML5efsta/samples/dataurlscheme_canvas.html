<!doctype html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>data URL Scheme + Canvas</title>
  <script src="http://code.jquery.com/jquery-1.8.2.min.js"></script>
  <script>
    $(function(){
      var ctx = $("#canvas-area")[0].getContext("2d");

      $("#b").on("click",function(){
        // x, y, radius, startAngle, endAngle [, anticlockwise ] )
        ctx.arc(200, 100, 50, 0, Math.PI*2, false);
        ctx.stroke();
      });

      $("#canvas-area").click(function(){
        var strDataURI = $("#canvas-area")[0].toDataURL("image/png");
        console.log(strDataURI);
        $("#out").prepend(
          $("<img />").attr("src",strDataURI)
        );
      });
    })
  </script>
  <style>
    #canvas-area {
      background: #fff;
      border-radius: 4px;
      border: 1px solid #bbb;
    }
    img{
      border: 1px solid #bbb;
    }
  </style>
</head>
<body>
  <h1>data URL Scheme + Canvas</h1>
  <canvas id="canvas-area" width="400" height="300"></canvas><br>
  <button id="b">draw</button>
  <div id="out"></div>
</body>
</html>
